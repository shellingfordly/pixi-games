var Q=Object.defineProperty;var Y=(i,r,o)=>r in i?Q(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o;var x=(i,r,o)=>(Y(i,typeof r!="symbol"?r+"":r,o),o);import{S as H,L as b,T as F,R as B,a as C,C as P,b as S,r as T,A as W,o as z,d as A,c as R,e as U,f as O,t as q,u as D,n as L}from"./index.dabb677a.js";const M=Math.min(document.body.clientWidth,375),m=Math.min(document.body.clientHeight,667);var X="/assets/player.38b01e98.png",k={exports:{}};(function(i,r){(function(o,c){i.exports=c()})(self,function(){return(()=>{var o={679:(d,u)=>{u.__esModule=!0,u.Easing=void 0;var l=function(){function t(){}return t.linear=function(e){return e},t.easeInQuad=function(e){return Math.pow(e,2)},t.easeOutQuad=function(e){return-(Math.pow(e-1,2)-1)},t.easeInOutQuad=function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},t.easeInCubic=function(e){return Math.pow(e,3)},t.easeOutCubic=function(e){return Math.pow(e-1,3)+1},t.easeInOutCubic=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},t.easeInQuart=function(e){return Math.pow(e,4)},t.easeOutQuart=function(e){return-(Math.pow(e-1,4)-1)},t.easeInOutQuart=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},t.easeInQuint=function(e){return Math.pow(e,5)},t.easeOutQuint=function(e){return Math.pow(e-1,5)+1},t.easeInOutQuint=function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},t.easeInSine=function(e){return 1-Math.cos(e*(Math.PI/2))},t.easeOutSine=function(e){return Math.sin(e*(Math.PI/2))},t.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},t.easeInExpo=function(e){return e===0?0:Math.pow(2,10*(e-1))},t.easeOutExpo=function(e){return e===1?1:1-Math.pow(2,-10*e)},t.easeInOutExpo=function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},t.easeInCirc=function(e){return-(Math.sqrt(1-e*e)-1)},t.easeOutCirc=function(e){return Math.sqrt(1-Math.pow(e-1,2))},t.easeInOutCirc=function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.easeOutBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.easeInBack=function(e){var n=1.70158;return e*e*((n+1)*e-n)},t.easeOutBack=function(e){var n=1.70158;return(e-=1)*e*((n+1)*e+n)+1},t.easeInOutBack=function(e){var n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},t.elastic=function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},t.swingFromTo=function(e){var n=1.70158;return(e/=.5)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2)},t.swingFrom=function(e){var n=1.70158;return e*e*((n+1)*e-n)},t.swingTo=function(e){var n=1.70158;return(e-=1)*e*((n+1)*e+n)+1},t.bounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.bouncePast=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},t.easeFromTo=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},t.easeFrom=function(e){return Math.pow(e,4)},t.easeTo=function(e){return Math.pow(e,.25)},t}();u.Easing=l},919:function(d,u,l){var t=this&&this.__createBinding||(Object.create?function(n,a,s,h){h===void 0&&(h=s),Object.defineProperty(n,h,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,h){h===void 0&&(h=s),n[h]=a[s]}),e=this&&this.__exportStar||function(n,a){for(var s in n)s==="default"||Object.prototype.hasOwnProperty.call(a,s)||t(a,n,s)};u.__esModule=!0,e(l(679),u),e(l(60),u)},60:function(d,u,l){var t=this&&this.__spreadArrays||function(){for(var a=0,s=0,h=arguments.length;s<h;s++)a+=arguments[s].length;var v=Array(a),p=0;for(s=0;s<h;s++)for(var f=arguments[s],y=0,w=f.length;y<w;y++,p++)v[p]=f[y];return v};u.__esModule=!0,u.Tweener=void 0;var e=l(679),n=function(){function a(){}return a.init=function(s){a.ticker||(a.ticker=s,a.ticker.add(a.update))},a.tweening=function(){return a.tweens.length>0},a.dispose=function(){a.ticker&&(a.ticker.remove(a.update),a.ticker=void 0,a.tweens=[])},a.add=function(s,h){var v=s.target,p=Object.assign.apply(Object,t([{}],Object.keys(h).map(function(w){var g;return(g={})[w]=v[w],g}))),f=Object.assign.apply(Object,t([{}],Object.keys(h).map(function(w){var g;return(g={})[w]=h[w]-p[w],g}))),y=s.useTickForDuration?s.duration:1e3*s.duration;return new Promise(function(w){var g={duration:y,useTickForDuration:!!s.useTickForDuration,ease:s.ease||e.Easing.linear,target:s.target,delay:s.delay?1e3*s.delay:0,currentTime:0,props:h,propDeltas:f,startingProps:p,onComplete:w,onUpdate:s.onUpdate||void 0,context:s.context||v};a.tweens.push(g)})},a.killTweensOf=function(s,h){var v=[];a.tweens.forEach(function(p){p.context===s||p.target===s?!h&&p.onComplete():v.push(p)}),a.tweens=v},a.advance=function(s){for(var h=!1,v=0,p=a.tweens;v<p.length;v++){var f=p[v],y=f.useTickForDuration?1:s;if(f.delay>0){if(f.delay-=y,!(f.delay<=0))continue;y=-f.delay}f.currentTime+=y;for(var w=Math.min(1,f.currentTime/f.duration),g=f.ease(w),_=0,E=Object.keys(f.props);_<E.length;_++){var I=E[_];f.target[I]=f.startingProps[I]+g*f.propDeltas[I]}f.onUpdate&&f.onUpdate(w),f.currentTime>=f.duration&&(f.onComplete(),h=!0)}h&&(a.tweens=a.tweens.filter(function(j){return j.currentTime<j.duration}))},a.tweens=[],a.update=function(){return a.advance(a.ticker.elapsedMS)},a}();u.Tweener=n}},c={};return function d(u){if(c[u])return c[u].exports;var l=c[u]={exports:{}};return o[u].call(l.exports,l,l.exports,d),l.exports}(919)})()})})(k);const G=[[0,0,105,115],[106,0,104,115],[211,0,104,115],[316,0,104,115],[316,0,104,115],[423,0,109,115],[534,0,114,115],[650,0,114,115],[766,0,104,115],[873,0,130,113],[862,113,130,120],[370,115,100,115],[670,115,100,115],[470,115,100,115],[570,115,100,115],[772,115,92,115]];class N extends H{constructor(){super();x(this,"defaultY",M-160);x(this,"textures",[]);x(this,"status","run");x(this,"keydown",o=>{o.code==="ArrowUp"?(this.status="jump",this.y===this.defaultY&&k.exports.Tweener.add({target:this,duration:.3,ease:k.exports.Easing.easeInOutQuint},{y:this.y-120})):o.code==="ArrowDown"&&(this.status="slide",this.texture=this.textures[10])});x(this,"keyup",()=>{this.status="run"});this.width=80,this.height=80,this.x=-120,this.y=this.defaultY,this.zIndex=10,this.loader(),this.watchEvent()}loader(){new b().add("player",X).load((c,d)=>{G.forEach((u,l)=>{const t=new F(d.player.texture,new B(...u));this.textures.push(t)})})}play(){const o=new C;o.autoStart=!0;const c=()=>{this.down(),this.entrance(),this.status==="run"?this.run():this.status==="jump"&&this.jump()};o.add(c)}watchEvent(){const o=this.keydown,c=this.keyup;document.addEventListener("keydown",o),document.addEventListener("keyup",c)}run(){this.texture=this.textures[Math.floor(Date.now()/100)%8]}jump(){this.texture=this.textures[Math.floor(Date.now()/100)%5+11]}down(){this.y<this.defaultY?(this.status="jump",this.y+=5):this.status==="jump"&&(this.status="run")}entrance(){this.x<120&&(this.x+=5)}clearEvent(){}}var V="/assets/footer.14bafa82.png",J="/assets/sky.ec09d89d.png";function K(){const i=new b,r=new P;r.height=130,r.zIndex=1;const o=new C;i.add("footer",V).add("sky",J).load(()=>{const d=new S(i.resources.footer.texture,m,130);d.y=M-130,d.zIndex=2;const u=new S(i.resources.sky.texture,m,M-80);u.tileScale.y=.6,u.zIndex=1,u.y=-30,r.addChild(d),r.addChild(u),r.sortChildren();const l=()=>{d.tilePosition.x-=3,u.tilePosition.x-=3};o.add(l)});function c(){o.start()}return{scene:r,runScene:c}}var Z="/assets/trap.8d103054.png";function $(i,r){let o,c,d,u,l;return o=!1,i.centerX=i.x+i.width/2,i.centerY=i.y+i.height/2,r.centerX=r.x+r.width/2,r.centerY=r.y+r.height/2,i.halfWidth=i.width/2,i.halfHeight=i.height/2,r.halfWidth=r.width/2,r.halfHeight=r.height/2,u=i.centerX-r.centerX,l=i.centerY-r.centerY,c=i.halfWidth+r.halfWidth,d=i.halfHeight+r.halfHeight,Math.abs(u)<c-25&&Math.abs(l)<d-20?o=!0:o=!1,o}const ee=[[30,55,130,40],[250,40,130,50],[35,280,130,60]];function te(){const i=new b,r=new P,o=new C,c=[];let d=null;const u=T(100),l=T(0);r.zIndex=3,i.add("trap",Z).load((e,n)=>{ee.forEach((a,s)=>{const h=new F(n.trap.texture,new B(...a));c.push(h)})}),i.load(()=>{setInterval(()=>{const e=Math.floor(Math.random()*2)+1,n=new H(c[e]);n.width=80,n.height=40,n.x=m,n.y=M-120,r.addChild(n);let a=!0,s=!0;function h(){n.x-=8,d&&(s&&$(d,n)?(u.value-=10,s=!1):a&&n.x<d.x&&(l.value++,a=!1)),n.x<-n.width&&(o.remove(h),r.removeChild(n))}o.add(h)},2e3)});function t(e){d=e,o.start()}return{trap:r,start:t,score:l,hp:u}}function ne(){const i=T(),r=new W({width:m,height:M,backgroundColor:16777215});k.exports.Tweener.init(r.ticker);const o=new P;r.stage.addChild(o);const c=new N,{scene:d,runScene:u}=K(),{trap:l,start:t,score:e,hp:n}=te();return o.addChild(c),o.addChild(d),o.addChild(l),o.sortChildren(),c.play(),u(),t(c),z(()=>{i.value&&i.value.appendChild(r.view)}),{containerRef:i,app:r,score:e,hp:n}}var re=(i,r)=>{const o=i.__vccOpts||i;for(const[c,d]of r)o[c]=d;return o};const ae={class:"score"},oe={class:"box"},se=A({__name:"Main",setup(i){const{containerRef:r,score:o,hp:c}=ne();return(d,u)=>(R(),U("div",{class:"container",ref_key:"containerRef",ref:r},[O("div",ae,q(D(o)),1),O("div",oe,[O("div",{class:"hp",style:L({width:D(c)+"%"})},null,4)])],512))}});var ce=re(se,[["__scopeId","data-v-bfc6e752"]]);export{ce as default};
