var o=Object.defineProperty;var d=(i,e,t)=>e in i?o(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(d(i,typeof e!="symbol"?e+"":e,t),t);import{a}from"./common.b1397a4a.js";import{r as h,A as l,G as r,o as p,u as w,C as f,T as k,d as u,c as y,e as g}from"./index.01e80c38.js";const c=50;function b(){const i=h(),e=new l({width:a,height:a,backgroundColor:16777215}),t=new _;t.draw(),t.update();const n=new r;return n.beginFill(4080),n.drawRect(100,100,a/c,a/c),n.endFill(),e.stage.addChild(n),e.stage.addChild(t.container),p(()=>{i&&w(i).appendChild(e.view)}),{containerRef:i,app:e}}class _{constructor(){s(this,"body",[{x:25,y:25}]);s(this,"direction",{x:1,y:0});s(this,"size",1);s(this,"container",new f);s(this,"graphics",new r);s(this,"ticker",new k);s(this,"width",a/c);this.addEvent()}addEvent(){document.addEventListener("keydown",e=>{let t=0,n=0;switch(e.code){case"ArrowUp":n=-1;break;case"ArrowLeft":t=-1;break;case"ArrowRight":t=1;break;default:t=this.direction.x,n=this.direction.y;break}this.direction={x:t,y:n}})}draw(){const e=new r;e.beginFill(16711935),this.body.forEach(t=>{e.drawRect(t.x*this.width,t.y*this.width,this.width,this.width)}),e.endFill(),this.graphics=e}update(){setInterval(()=>{const t=this.body[0];for(this.body.unshift({x:t.x+this.direction.x,y:t.y+this.direction.y});this.body.length>this.size;)this.body.pop();this.container.removeChild(this.graphics),this.draw(),this.container.addChild(this.graphics)},1e3)}}const v=u({__name:"Main",setup(i){const{containerRef:e}=b();return(t,n)=>(y(),g("div",{class:"container",ref_key:"containerRef",ref:e},null,512))}});export{v as default};
